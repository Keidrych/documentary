{"version":3,"sources":["../../src/lib/index.js"],"names":["getLink","title","l","replace","toLowerCase","makeARegexFromRule","rule","re","RegExp","source","exactTable","tableRule","exactMethodTitle","titleRule","read","rs","data","Promise","r","j","promise","Catchment","on","res"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEO,MAAMA,UAAWC,KAAD,IAAW;AAChC,QAAMC,IAAID,MACPE,OADO,CACC,YADD,EACe,EADf,EAEPA,OAFO,CAEC,cAFD,EAEiB,EAFjB,EAGPA,OAHO,CAGC,SAHD,EAGY,EAHZ,EAIPA,OAJO,CAIC,SAJD,EAIY,EAJZ,EAKPA,OALO,CAKC,YALD,EAKe,EALf,EAMPC,WANO,GAOPD,OAPO,CAOC,OAPD,EAOU,GAPV,CAAV;AAQA,SAAOD,CAAP;AACD,CAVM;;;;AAYA,MAAMG,qBAAsBC,IAAD,IAAU;AAC1C,QAAMC,KAAK,IAAIC,MAAJ,CAAY,IAAGF,KAAKC,EAAL,CAAQE,MAAO,EAA9B,CAAX;AACA,SAAOF,EAAP;AACD,CAHM;;;AAKA,MAAMG,aAAaL,mBAAmBM,cAAnB,CAAnB;;AACA,MAAMC,mBAAmBP,mBAAmBQ,oBAAnB,CAAzB;;;AAEA,MAAMC,OAAO,MAAOL,MAAP,IAAkB;AACpC,QAAMM,KAAK,0BAAiBN,MAAjB,CAAX;AACA,QAAMO,OAAO,MAAM,IAAIC,OAAJ,CAAY,OAAOC,CAAP,EAAUC,CAAV,KAAgB;AAC7C,UAAM;AAAEC;AAAF,QAAc,IAAIC,kBAAJ,CAAc;AAAEN;AAAF,KAAd,CAApB;AACAA,OAAGO,EAAH,CAAM,OAAN,EAAeH,CAAf;AACA,UAAMI,MAAM,MAAMH,OAAlB;AACAF,MAAEK,GAAF;AACD,GALkB,CAAnB;AAMA,SAAOP,IAAP;AACD,CATM","sourcesContent":["import tableRule from './rules/table'\nimport titleRule from './rules/method-title'\nimport { createReadStream } from 'fs'\nimport Catchment from 'catchment'\n\nexport const getLink = (title) => {\n  const l = title\n    .replace(/<\\/?code>/g, '')\n    .replace(/<\\/?strong>/g, '')\n    .replace(/<br\\/>/g, '')\n    .replace(/&nbsp;/g, '')\n    .replace(/[^\\w-\\d ]/g, '')\n    .toLowerCase()\n    .replace(/[, ]/g, '-')\n  return l\n}\n\nexport const makeARegexFromRule = (rule) => {\n  const re = new RegExp(`^${rule.re.source}`)\n  return re\n}\n\nexport const exactTable = makeARegexFromRule(tableRule)\nexport const exactMethodTitle = makeARegexFromRule(titleRule)\n\nexport const read = async (source) => {\n  const rs = createReadStream(source)\n  const data = await new Promise(async (r, j) => {\n    const { promise } = new Catchment({ rs })\n    rs.on('error', j)\n    const res = await promise\n    r(res)\n  })\n  return data\n}\n"],"file":"index.js"}