{"version":3,"sources":["../../../src/lib/typedef/jsdoc.js"],"names":[],"mappings":"AAAA,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI;;AAE9B,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEvG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC;;AAE1B,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;EAChB,EAAE,CAAC,CAAC,OAAO;EACX,WAAW,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IAChD,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;MAC7B,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ;MACjC,MAAM,CAAC;IACT;;IAEA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC7B,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,QAAQ;IACvC,MAAM,CAAC;EACT,CAAC;AACH;;;;;;AAMA,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;AACjB,MAAM,CAAC,OAAO,CAAC","file":"lib/typedef/jsdoc.js","sourcesContent":["import { debuglog } from 'util'\n\nconst jsDocRe = / \\* @param {(.+?)} (\\[)?([^\\s\\]]+)\\]?(?: .+)?((?:\\n \\* @param {(?:.+?)} \\[?\\3\\]?.*)*)/gm\n\nconst LOG = debuglog('doc')\n\nconst JSDocRule = {\n  re: jsDocRe,\n  replacement(match, typeName, optional, paramName) {\n    if (!(typeName in this.types)) {\n      LOG('Type %s not found', typeName)\n      return match\n    }\n    /** @type {Type} */\n    const t = this.types[typeName]\n    const s = t.toParam(paramName, optional)\n    return s\n  },\n}\n\n/**\n * @typedef {import('./Type').default} Type\n */\n\nexport { jsDocRe }\nexport default JSDocRule"]}